<!DOCTYPE html>
<html lang="en">
<head>
  <title>My Weekly Steak Routine</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="schedule.css">
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <script>
  var totalWeight = 0; // Setting up the total amount of meat, intialized here so it won't lose it's contents on the way.
  var meats = document.getElementsByClassName("meat") // capturing the the different elements with the class meat, that is where we write our daily amounts.
  var meatTotal = document.getElementsByClassName("meatTotal") // The meat total paragraph where the total amount of meat is written
  var meat; // useless variable, not really used but could be nice for future functionality, not getting rid of it.
  var dayTotals = [0, 0, 0, 0, 0, 0, 0]; // an array to store the day totals, initialized here so it won't lose it's contents
  // totalWeight variable declared outside of a function so it becomes a global variable
  function inputData() { // This function is fired when the add button is pressed and writes the inputted amount in the form to the right place.
    var WeightInput = parseInt(document.forms["inputForm"]["weight"].value); // Look up the value in the weight form, convert it to INT and place it in the variable
  if (WeightInput < 0 || WeightInput > 1000 || isNaN(WeightInput)) { // Check if the inputted value is within limits and a positive number, also checks if the int conversion resulted into a NaN. This prevents inputting a string.
    alert("Invalid steak weight!!!"); // Alerts the user that the input is not allowed if one of the three conditions is true
      var errorField = document.forms.inputForm.weight;

          errorField.style.borderColor = "red"; // Sets the border color to red if the input is incorrect

      errorField.select(); // selects the box
      errorField.focus(); // and sets focus to it
  } else { // input is ok so we move here
    totalWeight += WeightInput; // adds the inputted weight to the total weight variable
    document.getElementById('weightcounter').innerHTML = "Total Amount of Delicious Steak Devoured: " + totalWeight + " KG" // This is not the most beautiful way to do this but we overwrite the whole innerHTML sentence with a similiar one and one change the number by using the totalweight variable
    revealStakeKing(); // We fire up this function to see if the total amount has exceeded 500kg and if the steak king should appear.
    var day = 0; // we set up the value for the chosen day

    switch (document.forms.inputForm.steakDay.value) { // the first switch checks the dropdown for a value, in this case which day is chosen.

        case "Monday": // Once again this is a bit complicated way of doing it.
            day = 0;
            dayTotals[0] += WeightInput; // inputted amount is added to the daytotal array in the appropriate index
            meatTotal[0].innerHTML = dayTotals[0]; // the meatTotal array holds the different Total of the day paragraphs and the day total is written into that section, in this case to index 0 because it's monday
            break;
        case "Tuesday":
            day = 3; // The day counter jumps to the beginning of a new column, there are 3 different types of meats (meat class paragraphs, the total meat paragraph is not meat class) so 0, 1, 2 belong to monday and 3, 4, 5 to tuesday and so on.
            dayTotals[1] += WeightInput;
            meatTotal[1].innerHTML = dayTotals[1]; // meat total html elements differ in class from the regular meat elements so they follow their own index tuesday is second and thus 1.
            break;
        case "Wednesday":
            day = 6; // once again the column jump, this value is used in the next part when writing the amount of meat to it's proper place.
            dayTotals[2] += WeightInput;
            meatTotal[2].innerHTML = dayTotals[2];
            break;
        case "Thursday":
            day = 9;
            dayTotals[3] += WeightInput;
            meatTotal[3].innerHTML = dayTotals[3];
            break;
        case "Friday":
        day = 12;
            dayTotals[4] += WeightInput;
            meatTotal[4].innerHTML = dayTotals[4];
            break;
        case "Saturday":
            day = 15;
            dayTotals[5] += WeightInput;
            meatTotal[5].innerHTML = dayTotals[5];
            break;
        case "Sunday":
            day = 18;
            dayTotals[6] += WeightInput;
            meatTotal[6].innerHTML = dayTotals[6];
            break;


    }

    switch (document.forms.inputForm.steakMenu.value) { // After we have written the day total and got the appropriate value to the day variable we are ready to write the meat amount to it's proper place, so first we capture the type of meat from the dropdown and use that as the trigger of our switch case
        case "Beef Steak":
        meat = "Beef Steak"; // This variable is actually useless, we had a plan for it but never used it, didn't bother deleting it.
        meats[day].innerHTML = WeightInput   // and we select the proper meat class element from the meats array and write the inputted amount to it. See here that we use the variable day that has a value indicating the right column to write to. If it is monday it's value is 0
        break;
        case "Pork Steak":
        meat = "Pork Steak";
        meats[day + 1].innerHTML = WeightInput // now here we use the day value once a again, it contains the index of the right column, it could be 3 if tuesday was selected and now we add 1 to it because pork steak is second row in the tuesday column
        break;
        case "Turkey Steak":
        meat = "Turkey Steak";
        meats[day + 2].innerHTML = WeightInput // here we do it with the third column, of course we could also use this to write to the total of the day row but I wanted to separate it from this part.
        break;

    }
  }
  } // This is the function that controls everything that happens when the add button is pressed
  function revealStakeKing() { // the function reveals the stake king graphic when the total amount of steak is over 500 kilograms (totalWeight variable)
    if(totalWeight > 500) {
      document.getElementById('king').innerHTML = "<img src='steak.jpg'>"; // if true, the stake king image is displayed
    }

  }

  // there's more script at the bottom, for some reason that part did not work here because "all of the content has not loaded yet". (Actually figured that part out later but didn't bother moving the part back to up here, yeah I'm lazy, sue me)
  </script>

</head>
<body>

    <img src="logo.jpg"></br>  <!-- countless minutes were spent creating this logo masterpiece in photoshop. -->
  <h1>My Weekly Steak Routine</h1>
  <p id=king></p>
</br>
<div class="container">

  <div class="flex-item">
    <h3>Monday</h3></br>
    Beef Steak: <p class="meat">0</p>
    </br>
    Pork Steak: <p class="meat">0</p>
    </br>
       Turkey Steak: <p class="meat">0</p>
    </br>
    Total of the Day: <p class="meatTotal">0</p>
    </div>

    <div class="flex-item">
        <h3>Tuesday</h3></br>
      Beef Steak: <p class="meat">0</p>
      </br>
      Pork Steak: <p class="meat">0</p>
      </br>
         Turkey Steak: <p class="meat">0</p>
        </br>
        Total of the Day: <p class="meatTotal">0</p>
      </div>

      <div class="flex-item">
        <h3>Wednesday</h3></br>
        Beef Steak: <p class="meat">0</p>
        </br>
        Pork Steak: <p class="meat">0</p>
        </br>
           Turkey Steak: <p class="meat">0</p>
          </br>
          Total of the Day: <p class="meatTotal">0</p>
        </div>

        <div class="flex-item">
            <h3>Thursday</h3></br>
          Beef Steak: <p class="meat">0</p>
          </br>
          Pork Steak: <p class="meat">0</p>
          </br>
             Turkey Steak: <p class="meat">0</p>
            </br>
            Total of the Day: <p class="meatTotal">0</p>
          </div>

          <div class="flex-item">
            <h3>Friday</h3></br>
            Beef Steak: <p class="meat">0</p>
            </br>
            Pork Steak: <p class="meat">0</p>
            </br>
               Turkey Steak: <p class="meat">0</p>
              </br>
              Total of the Day: <p class="meatTotal">0</p>
            </div>

            <div class="flex-item">
                <h3>Saturday</h3></br>
              Beef Steak: <p class="meat">0</p>
              </br>
              Pork Steak: <p class="meat">0</p>
              </br>
                 Turkey Steak: <p class="meat">0</p>
                </br>
                Total of the Day: <p class="meatTotal">0</p>
              </div>

              <div class="flex-item">
                <h3>Sunday</h3></br>
                Beef Steak: <p class="meat">0</p>
                </br>
                Pork Steak: <p class="meat">0</p>
                </br>
                   Turkey Steak: <p class="meat">0</p>
                  </br>
                  Total of the Day: <p class="meatTotal">0</p>
                </div>

      
</div>
</br>
<h1 id='weightcounter'>Total Amount of Delicious Steak Devoured: 0 KG</h1>
    Steak type:</br>
    <form name='inputForm'>
      <select name='steakMenu' size='1'>
        <option>Beef Steak</option>
        <option>Pork Steak</option>
        <option>Turkey Steak</option>
      </select>
      <select name='steakDay' size='1'>
        <option>Monday</option>
        <option>Tuesday</option>
        <option>Wednesday</option>
        <option>Thursday</option>
        <option>Friday</option>
        <option>Saturday</option>
        <option>Sunday</option>
      </select>

      </br></br>
      Weight:</br>
      <input type="text" name="weight" size='10'>
    </form></br>
    <button type="button" onclick="inputData()">Add</button>
    <p> <input type="checkbox" name="surveyOpen" id="survey" onClick="showSurvey()">I want to participate in a meat survey.</p>
    <div id="surveyBox">
    <fieldset>
     <legend>Meat survey</legend>
        <p>How do you like your steak?</p>
        <form name="surveychoice">
            <input type="radio" name="steak" value="raw"> RAW!<br>
            <input type="radio" name="steak" value="rare"> Rare<br>
            <input type="radio" name="steak" value="mediumrare" checked> Medium Rare<br>
            <input type="radio" name="steak" value="medium"> Medium<br>
            <input type="radio" name="steak" value="welldone" > Well done<br>
            <input type="radio" name="steak" value="nomeat"> Actually I don't like meat.
        </form><br>
        <button type="button" onclick="surveyAnswer()">Answer</button>

    </fieldset>
    </div>



<script>
    var survey = document.getElementById('surveyBox'); // here we get the info of the box that is hidden at the beginning
    survey.style.display = "none"; // we hide the survey field set by default

  function showSurvey() { // this shows and hides the survey by checking the state of the checkbox


      var selection = document.getElementById("survey").checked; // is the survey checkbox checked or not

      if (!selection) {
          survey.style.display = "none"; // it's not so we hide the content
      }
      else {
          survey.style.display = "block"; // it is so we show the content
      }

  }


  function surveyAnswer() { // this function is fired when the answer button is pressed and it captures the value of the radio buttons and displays a message according to the answer
      var choice = document.forms.surveychoice.steak.value; // let's capture the value and once again resort to a switch
       switch(choice) {
          case "raw":
              alert("YOU'RE A REAL BEAST! I LIKE YOUR STYLE!") // Alerts messages
          break;

          case "rare":
              alert("Nice and juicy, just the way I like it!")
              break;

          case "mediumrare":
              alert("You're an ok guy, I guess...")
              break;

          case "medium":
              alert("Join the club, mate")
              break;

          case "welldone":
              alert("YOU HEATHEN! GET OUT OF MY SIGHT!")
              break;

           case "nomeat":
              alert("Please leave...") // Just a bit of humour, if you're a vegetarian or vegan I don't mean to offend, it's your choice man.
              window.location.href = "https://www.vegansociety.com"; // wanted to go for something different here and this choice redirects the user to a different web page.
              break;
      }
  }
</script>

</body>
</html>